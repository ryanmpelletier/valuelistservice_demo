angular.module("valueList",[]).provider("valueListService",function(){var a=null;this.setServiceUrl=function(b){a=b},this.$get=["$http","$q","$location",function(b,c,d){function f(a){var d=c.defer();return b.get(e(a)).then(function(a){d.resolve({values:a.data.values,valuesInfo:{page:a.data.valuesInfo.page,numberPerPage:a.data.valuesInfo.numberPerPage,totalCount:a.data.valuesInfo.totalCount,totalPages:Math.ceil(a.data.valuesInfo.totalCount/a.data.valuesInfo.numberPerPage)},response:{status:a.status,statusText:a.statusText,config:a.config}})})["catch"](function(a){d.reject({errorData:a.data,response:{status:a.status,statusText:a.statusText,config:a.config}})}),d.promise}null===a&&(a=d.protocol()+"://"+d.host()+":"+d.port()+"/"+d.absUrl().split("/")[3]+"/valuelist/valuelistservice/values");var e=function(b){var c=[];c.push("?");for(var d in b)b.hasOwnProperty(d)&&""!==b[d]&&c.push(encodeURIComponent(d)+"="+encodeURIComponent(b[d]));return a+c.join("&")};return{getValues:f}}]}).controller("ValueListServiceController",["$scope","$http","valueListService","startingQueryParams",function(a,b,c,d){a.queryParams=d,a.results={},a.getValues=function(b){c.getValues(a.queryParams[b]).then(function(c){a.results[b]=c},function(c){a.results[b]=c})},a.nextPage=function(b){a.queryParams[b].page=parseInt(a.queryParams[b].page)+1,a.getValues(b)},a.backPage=function(b){a.queryParams[b].page=parseInt(a.queryParams[b].page)-1,a.getValues(b)},a.sort=function(b,c,d){a.queryParams[d].sortByColumn=b,a.queryParams[d].sortByOrder=c,a.getValues(d)}}]);